# Issue #1382 Fix: Ctrl+A Select Everything Instead of Input Field

## Problem Analysis
Ctrl+A (⌘+A on macOS) selects entire terminal content instead of just input field content in chat.

## Root Cause
Terminal in AltScreen mode intercepts Ctrl+A before it reaches the Bubble Tea application, even though:
- Key binding exists: `ctrl+a`, `cmd+a` in keys.go
- SelectAll() implementation works correctly when key reaches editor
- Selection system is fully functional

## Solution Strategy
**Override terminal Ctrl+A behavior by intercepting at Bubble Tea level and ensuring our handler takes precedence.**

## Execution Tasks

### Phase 1: Critical Fixes (30 min)
#### Task 1: Test Current Ctrl+A Behavior (5 min)
- Verify current key handling order
- Test if SelectAll key binding works at all
- Identify where terminal interception happens

#### Task 2: Override Ctrl+A Terminal Behavior (15 min)  
- Modify key binding priority in editor
- Add explicit Ctrl+A handling before textarea processing
- Ensure our handler supersedes terminal behavior

#### Task 3: Test SelectAll Functionality (10 min)
- Verify Ctrl+A now selects only input field content
- Test with various content types (Unicode, multiline)
- Ensure visual selection highlighting works

### Phase 2: Comprehensive Enhancement (20 min)
#### Task 4: Platform-Specific Key Handling (10 min)
- Ensure ⌘+A works on macOS
- Test on different terminal emulators
- Add fallback key combinations if needed

#### Task 5: Integration Testing (10 min)
- Test in full application context
- Verify no conflicts with other key bindings
- Test with attachments and other editor features

### Phase 3: Quality Assurance (10 min)
#### Task 6: Edge Case Testing (5 min)
- Test empty input field
- Test with very long content
- Test during AI responses

#### Task 7: Documentation Update (5 min)
- Update key binding help text
- Document expected behavior
- Add troubleshooting notes

## Success Criteria
1. ✅ Ctrl+A selects ONLY input field content
2. ✅ ⌘+A works on macOS
3. ✅ No terminal-wide selection occurs
4. ✅ Visual selection highlighting appears
5. ✅ All existing functionality preserved

## Implementation Notes
- Keep existing SelectAll() implementation (it works)
- Focus on key binding priority/ordering
- Test in actual terminal environment
- Maintain backward compatibility

## Files to Modify
- `internal/tui/components/chat/editor/editor.go` - Key handling priority
- `internal/tui/components/chat/editor/keys.go` - Key binding enhancement
- Potentially `internal/tui/components/chat/editor/rendering.go` - Visual confirmation

## Risk Assessment
- **LOW RISK**: Only key handling priority changes
- **EASY ROLLBACK**: Simple changes to revert
- **NO BREAKING CHANGES**: Existing functionality preserved

---
*Created: 2025-11-04 21:57*
*Focus: User experience critical issue*